(this["webpackJsonpmain-bootstrap"]=this["webpackJsonpmain-bootstrap"]||[]).push([[0],{21:function(e,t,n){e.exports=n.p+"static/media/defaultIcon.cd9692eb.svg"},32:function(e,t,n){},38:function(e,t,n){e.exports=n.p+"static/media/backArrow.652f42e0.svg"},40:function(e,t,n){e.exports=n(56)},45:function(e,t,n){},47:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(19),o=n.n(c),l=(n(45),n(46),n(32),n(47),n(5)),i=n.n(l),s=n(12),u=n(6),m=window.location.hash.substring(1).split("&").reduce((function(e,t){if(t){var n=t.split("=");e[n[0]]=decodeURIComponent(n[1])}return e}),{});window.location.hash="";var f=m,d=n(21),b=n.n(d),p=function(e){var t=e.userData;return r.a.createElement("div",{className:"mb-2 text-center text-lg sm:text-xl md:text-2xl font-fredoka pt-2 pl-2 pr-2 pb-0 flex justify-between tracking-wide text-white cursor-default"},r.a.createElement("span",{className:"flex justify-center self-center"},"BPM Playlist Maker"),r.a.createElement("img",{src:t.images[0]?t.images[0].url:b.a,alt:"profile",className:"self-center mr-2",style:{maxHeight:"1.2em",width:"1.2em",objectFit:"cover",borderRadius:"50%"}}))},v=n(10),h=["ugc-image-upload","user-top-read","user-read-playback-position","user-read-recently-played","user-read-playback-state","user-read-currently-playing","user-modify-playback-state","user-library-modify","user-library-read","streaming","app-remote-control","user-read-private","user-read-email","user-follow-modify","user-follow-read","playlist-modify-public","playlist-read-collaborative","playlist-read-private","playlist-modify-private"],E=n(39),g=n(11);function k(){var e=Object(v.a)(["\nword-wrap: break-word;\nmargin: 0 1em;\ntext-align: center;\n"]);return k=function(){return e},e}function j(){var e=Object(v.a)(["\ncolor: white;\nwidth: 400px;\n\n"]);return j=function(){return e},e}function y(){var e=Object(v.a)(["\nwidth: 100vw;\nheight: 100vh;\ndisplay: flex;\njustify-content: center;\nalign-items: center;\n"]);return y=function(){return e},e}function O(){var e=Object(v.a)(["\ntext-align: center;\nfont-size: 2.5rem;\n"]);return O=function(){return e},e}var x=g.a.div(O()),w=g.a.div(y()),N=g.a.div(j()),S=g.a.div(k()),_=function(){return r.a.createElement(w,null,r.a.createElement(N,null,r.a.createElement(x,{className:"font-fredoka"},"BPM Playlist Maker"),r.a.createElement(S,null,"This app allows you to create playlists based on the BPM of songs to create perfectly customized running playlists.",r.a.createElement("br",null),r.a.createElement(E.a,{href:"".concat("https://accounts.spotify.com/authorize","?client_id=").concat("4451d90a4f634c33b6f4e015d616ab44","&redirect_uri=").concat("https://brentably.github.io/SpotifyPlaylistMaker","&scope=").concat(h.join("%20"),"&response_type=token&show_dialog=false"),className:"my-3",style:{backgroundColor:"#1dd05d"}},"Connect to Spotify"))))},M=function(){return r.a.createElement("div",{className:"text-white text-3xl text-center"})},B=n(15);function C(){var e=Object(v.a)(["\n  margin-right: 1em;\n  transition: color 0.1s ease-out;\n  &:active,\n  :hover {\n    color: #808a9f;\n    text-decoration: none;\n    cursor: pointer;\n    transition: color 0.1s ease-out;\n  }\n"]);return C=function(){return e},e}var T=Object(g.a)(B.a)(C()),L=function(){var e=Object(a.useRef)(null),t=Object(a.useState)(!1),n=Object(u.a)(t,2),c=n[0],o=n[1],l=Object(a.useState)(null),i=Object(u.a)(l,2),s=i[0],m=i[1],f=Object(a.useRef)();function d(){this.scrollY>f.current?o(!0):o(!1)}return f.current=s,Object(a.useEffect)((function(){return window.addEventListener("scroll",d),m(e.current.offsetTop),function(){return window.removeEventListener("scroll",d)}}),[]),r.a.createElement(r.a.Fragment,null,c?r.a.createElement("div",{style:{width:"100vw",height:"".concat(e.current.clientHeight,"px")}}):null,r.a.createElement("div",{className:c?"stick text-silver flex text-xl tracking-wide p-2 font-nunito-semibold":"w-full text-silver flex tracking-wide text-xl p-2 font-nunito-semibold",ref:e},r.a.createElement(T,{to:"/playlists",className:"text-silver",activeClassName:"selected"},"Playlists"),r.a.createElement(T,{to:"/albums",className:"text-silver",activeClassName:"selected"},"Albums"),r.a.createElement(T,{to:"/search",className:"text-silver",activeClassName:"selected"},"Search")))},P=n(14),D=n(2),I=function(e){var t=e.type,n=e.name,a=e.owner,c=e.imgSrc,o=e.endpoint,l=Object(D.g)();return r.a.createElement("div",{id:"card",className:"text-white flex font-nunito-semibold ellipsis items-center ml-2",style:{margin:"0.6rem"},onClick:function(){l.push("/".concat(t),{endpoint:o})}},r.a.createElement("img",{src:"default"===c?b.a:c,alt:t,className:"mr-2",style:{objectFit:"cover",height:"3.4em",width:"3.4em"}}),r.a.createElement("div",{className:"ellipsis"},r.a.createElement("div",{className:"text-md ellipsis"},n),r.a.createElement("div",{className:"text-sm text-silver"},a)))},z=function(){var e=Object(s.a)(i.a.mark((function e(t,n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"GET",mode:"cors",headers:{Authorization:"Bearer ".concat(n)}});case 2:if(!(a=e.sent).ok||"200"!==a.status){e.next=9;break}return e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:if("401"!==a.status){e.next=13;break}return e.abrupt("return",r.a.createElement(_,null));case 13:return e.next=15,a;case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),A=n(22),F=n.n(A),R=n(4),q=Object(R.b)((function(e){return{token:e.token}}),{})((function(e){var t=e.token,n=Object(a.useState)([]),c=Object(u.a)(n,2),o=c[0],l=c[1],m=Object(a.useState)("https://api.spotify.com/v1/me/playlists?offset=0&limit=40"),f=Object(u.a)(m,2),d=f[0],b=f[1],p=function(){var e=Object(s.a)(i.a.mark((function e(){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,z(d,t);case 4:if(!(n=e.sent).ok){e.next=11;break}return e.next=8,n.json();case 8:a=e.sent,l((function(e){return[].concat(Object(P.a)(e),Object(P.a)(a.items))})),b(a.next);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=Object(a.useCallback)(p,[]);return Object(a.useEffect)((function(){v()}),[v]),o.length>0?r.a.createElement(F.a,{pageStart:0,loadMore:p,hasMore:Boolean(d),loader:r.a.createElement(M,{key:"Loading"})},o.map((function(e){return r.a.createElement(I,{endpoint:e.href,key:e.id,type:e.type,imgSrc:e.images[0]?e.images[0].url:"default",name:e.name,owner:"by ".concat(e.owner.display_name)})}))):r.a.createElement(M,null)})),H=Object(R.b)((function(e){return{token:e.token}}),{})((function(e){var t=e.token,n=Object(a.useState)([]),c=Object(u.a)(n,2),o=c[0],l=c[1],m=Object(a.useState)("https://api.spotify.com/v1/me/albums?offset=0&limit=40"),f=Object(u.a)(m,2),d=f[0],b=f[1],p=function(){var e=Object(s.a)(i.a.mark((function e(){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,z(d,t);case 4:if(!(n=e.sent).ok){e.next=11;break}return e.next=8,n.json();case 8:a=e.sent,l((function(e){var t=Object(P.a)(a.items).map((function(e){return e.album}));return[].concat(Object(P.a)(e),Object(P.a)(t))})),b(a.next);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=Object(a.useCallback)(p,[]);return Object(a.useEffect)((function(){v()}),[v]),o.length>0?r.a.createElement(F.a,{pageStart:0,loadMore:p,hasMore:Boolean(d),loader:r.a.createElement(M,{key:"239rehoufwds"})},o.map((function(e){var t=Object(P.a)(e.artists.map((function(e){return e.name}))).join(", ");return r.a.createElement(I,{key:e.id,endponint:e.href,type:e.type,name:e.name,owner:t,imgSrc:e.images[0]?e.images[0].url:"default"})}))):r.a.createElement(M,null)})),X=Object(R.b)((function(e){return{token:e.token}}),{})((function(e){var t=e.token,n=e.query;return Object(a.useEffect)((function(){Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z("url",t);case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))()}),[n,t]),r.a.createElement("div",{className:"text-white text-xl"},n)}));function G(){var e=Object(v.a)(["\npadding: 0.25em 0.9em 0.25em 2.5em;\nborder-radius: 1em;\nwidth: 100%;\n"]);return G=function(){return e},e}var U=g.a.input(G()),V=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"m-2 relative"},r.a.createElement(U,{type:"search",placeholder:"Search for Artists, Songs, etc.",autoFocus:!0,value:n,onChange:function(e){c(e.target.value)}}),r.a.createElement("div",{className:"searchSVG"},r.a.createElement("span",{className:"flex-1"},r.a.createElement("svg",{height:"24",role:"img",width:"24",viewBox:"0 0 512 512",className:"block",style:{color:"rgb(19, 19, 19)"},"aria-hidden":"false"},r.a.createElement("path",{d:"M349.714 347.937l93.714 109.969-16.254 13.969-93.969-109.969q-48.508 36.825-109.207 36.825-36.826 0-70.476-14.349t-57.905-38.603-38.603-57.905-14.349-70.476 14.349-70.476 38.603-57.905 57.905-38.603 70.476-14.349 70.476 14.349 57.905 38.603 38.603 57.905 14.349 70.476q0 37.841-14.73 71.619t-40.889 58.921zM224 377.397q43.428 0 80.254-21.461t58.286-58.286 21.461-80.254-21.461-80.254-58.286-58.285-80.254-21.46-80.254 21.46-58.285 58.285-21.46 80.254 21.46 80.254 58.285 58.286 80.254 21.461z",fill:"currentColor"}))))),r.a.createElement(X,{query:n}))},J=n(38),K=n.n(J);function Y(){var e=Object(v.a)(["\n  position: absolute;\n  top: 0.25em;\n  left: 0.25em;\n  background-color: rgba(0, 0, 0, 0.7);\n  border-radius: 50%;\n  width: 2.2em;\n  height: 2.2em;\n  padding: 0.2em;\n  background-image: url(",");\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-origin: content-box;\n\n\n"]);return Y=function(){return e},e}var Q=g.a.button(Y(),K.a),W=function(e){var t=e.history;return r.a.createElement(Q,{onClick:function(){console.log("BLEEP BLOOOP"),t.goBack()}})},Z=Object(R.b)((function(e){return{token:e.token}}),{})((function(){var e=Object(D.g)();e.location.state.endpoint;return Object(a.useEffect)((function(){}),[]),r.a.createElement("div",{className:"page absolute bottom-0 left-0 right-0 text-white bg-white",style:{top:"50px"}},r.a.createElement(W,{history:e}),"PlaylistPage")})),$=Object(R.b)((function(e){return{token:e.token}}),{})((function(){var e=Object(D.g)().location.state.endpoint;return console.log(e),Object(a.useEffect)((function(){}),[]),r.a.createElement("div",null,"HELLo")})),ee=Object(R.b)((function(e){return{token:e.token}}),{})((function(){var e=Object(D.g)().location.state.endpoint;return console.log(e),Object(a.useEffect)((function(){}),[]),r.a.createElement("div",null,"HELLo")})),te=n(29),ne=n(23);var ae={token:null};var re=Object(ne.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TOKEN":return Object(te.a)(Object(te.a)({},e),{},{token:t.payload});default:return e}}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),ce=Object(R.b)(null,{addToken:function(e){return{type:"ADD_TOKEN",payload:e}}})((function(e){var t=e.addToken;f.error&&console.log(f.error);var n=Object(a.useState)(null),c=Object(u.a)(n,2),o=c[0],l=c[1],m=Object(a.useState)(null),d=Object(u.a)(m,2),b=d[0],v=d[1],h=Object(a.useState)(!1),E=Object(u.a)(h,2),g=E[0],k=E[1];return Object(a.useEffect)((function(){f.access_token?(l(f.access_token),localStorage.clear(),localStorage.setItem("token",f.access_token),t(f.access_token),console.log(f.access_token)):(l(localStorage.getItem("token")),t(localStorage.getItem("token")))}),[t]),Object(a.useEffect)((function(){(function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return k(!0),e.abrupt("return");case 3:return e.next=5,fetch("https://api.spotify.com/v1/me",{method:"GET",mode:"cors",headers:{Authorization:"Bearer ".concat(t)}});case 5:if(!(n=e.sent).ok){e.next=12;break}return e.t0=v,e.next=10,n.json();case 10:e.t1=e.sent,(0,e.t0)(e.t1);case 12:n.ok||"401"!==n.status||k(!0);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(o)}),[o]),b?r.a.createElement(r.a.Fragment,null,r.a.createElement(p,{userData:b}),r.a.createElement(D.a,{initialEntries:["/playlists","/albums","/search"],initialIndex:0},r.a.createElement(L,null),r.a.createElement(D.d,null,r.a.createElement(D.b,{path:"/playlists"},r.a.createElement(q,null)),r.a.createElement(D.b,{path:"/albums"},r.a.createElement(H,null)),r.a.createElement(D.b,{path:"/search"},r.a.createElement(V,null)),r.a.createElement(D.b,{path:"/playlist"},r.a.createElement(Z,null)),r.a.createElement(D.b,{path:"/artist"},r.a.createElement($,null)),r.a.createElement(D.b,{path:"/album"},r.a.createElement(ee,null))))):g?r.a.createElement(_,null):r.a.createElement(M,null)}));var oe=function(){return r.a.createElement(ce,null)};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(R.a,{store:re},r.a.createElement(oe,null))),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.3fd0fce6.chunk.js.map